{
  "packages": ["arm", "core"],
  "system_clock": "clk",
  "system_reset": "rst",
  "system_memory": null,
  "time_step": 0.00001,
  "signals": [
    {
      "name": "clk",
      "simulation": {
        "model": "Clock",
        "frequency": 10,
        "value": 0,
        "append_to_entities" : true,
        "width" : 1
      },
      "view": { }
    },
    {
      "name": "rst",
      "simulation": {
        "model": "Reset",
        "value": 0,
        "width" : 1
      },
      "view": { }
    },
    {
      "name": "const8",
      "simulation": {
        "model": "Constant",
        "width": 32,
        "value": 8
      },
      "view": { }
    },
    {
      "name": "const4",
      "simulation": {
        "model": "Constant",
        "width": 32,
        "value": 4
      },
      "view": { }
    },
    {
      "name": "const14",
      "simulation": {
        "model": "Constant",
        "width": 4,
        "value": 14
      },
      "view": { }
    },
    {
      "name": "pc",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc4f",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc4d",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc4e",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc4m",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc4w",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc8f",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pc8d",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "braddr",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "nextaddr",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "instrf",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "instrd",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "instrd_31_28",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "instrd_27_26",
      "simulation": {
        "model": "Bus",
        "width": 2
      },
      "view": { }
    },
    {
      "name": "instrd_25_20",
      "simulation": {
        "model": "Bus",
        "width": 6
      },
      "view": { }
    },
    {
      "name": "instrd_19_16",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "instrd_15_12",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "instrd_11_8",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "instrd_4",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "instrd_3_0",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "instrd_23_0",
      "simulation": {
        "model": "Bus",
        "width": 24
      },
      "view": { }
    },
    {
      "name": "imm32d",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "imm32e",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rdm",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rdw",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd1",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd2",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd1d",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd2d",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd1e",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd2e",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "rd2m",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "ra1d",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra2d",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra3d",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra1e",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra2e",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra3e",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra3m",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "ra3w",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "fe",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "fm",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "fw",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "alub",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "aluc",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "aluv",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "alun",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "aluz",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "c",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "v",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "n",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "z",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "aluflag",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "flag",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "data",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "wd",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "wd3",
      "simulation": {
        "model": "Bus",
        "width": 32
      },
      "view": { }
    },
    {
      "name": "pcsrcd",
      "simulation": {
        "model": "Bus",
        "width": 2
      },
      "view": { }
    },
    {
      "name": "pcwrd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regsad",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regdstd",
      "simulation": {
        "model": "Bus",
        "width": 2
      },
      "view": { }
    },
    {
      "name": "regwrsd",
      "simulation": {
        "model": "Bus",
        "width": 2
      },
      "view": { }
    },
    {
      "name": "regwrd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "extsd",
      "simulation": {
        "model": "Bus",
        "width": 2
      },
      "view": { }
    },
    {
      "name": "alusrcbd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "alusd",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "aluflagwrd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "memwrd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regsrcd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "wd3sd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regwre",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "alusrcbe",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "aluse",
      "simulation": {
        "model": "Bus",
        "width": 4
      },
      "view": { }
    },
    {
      "name": "aluflagwre",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "memwre",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regsrce",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "wd3se",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regwrm",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "memwrm",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regsrcm",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "wd3sm",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regwrw",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "regsrcw",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "wd3sw",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "fwda",
      "simulation": {
        "model": "Bus",
        "width": 3
      },
      "view": { }
    },
    {
      "name": "fwdb",
      "simulation": {
        "model": "Bus",
        "width": 3
      },
      "view": { }
    },
    {
      "name": "fwds",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "stallf",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "flushf",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    },
    {
      "name": "flushd",
      "simulation": {
        "model": "Bus",
        "width": 1
      },
      "view": { }
    }
  ],
  "entities": [
    {
      "name": "barrier_registers",
      "symbolic": true,
      "entities": [
        {
          "name": "memwb",
          "simulation": {
            "model": "Memwb",
            "append_to_signals": true,
            "pc4m": "pc4m",
            "regwrm": "regwrm",
            "regsrcm": "regsrcm",
            "wd3sm": "wd3sm",
            "fm": "fm",
            "rdm": "rdm",
            "ra3m": "ra3m",
            "clk": "clk",
            "pc4w": "pc4w",
            "regwrw": "regwrw",
            "regsrcw": "regsrcw",
            "wd3sw": "wd3sw",
            "fw": "fw",
            "rdw": "rdw",
            "ra3w": "ra3w"
          },
          "view": { }
        },
        {
          "name": "exmem",
          "simulation": {
            "model": "Exmem",
            "append_to_signals": true,
            "pc4e": "pc4e",
            "regwre": "regwre",
            "memwre": "memwre",
            "regsrce": "regsrce",
            "wd3se": "wd3se",
            "rd2e": "rd2",
            "fe": "fe",
            "ra3e": "ra3e",
            "clk": "clk",
            "pc4m": "pc4m",
            "regwrm": "regwrm",
            "memwrm": "memwrm",
            "regsrcm": "regsrcm",
            "wd3sm": "wd3sm",
            "fm": "fm",
            "rd2m": "rd2m",
            "ra3m": "ra3m"
          },
          "view": { }
        },
        {
          "name": "idex",
          "simulation": {
            "model": "Idex",
            "append_to_signals": true,
            "pc4d": "pc4d",
            "regwrd": "regwrd",
            "alusrcbd": "alusrcbd",
            "alusd": "alusd",
            "alusflagwrd": "aluflagwrd",
            "memwrd": "memwrd",
            "regsrcd": "regsrcd",
            "wd3sd": "wd3sd",
            "rd1d": "rd1d",
            "rd2d": "rd2d",
            "imm32d": "imm32d",
            "ra1d": "ra1d",
            "ra2d": "ra2d",
            "ra3d": "ra3d",
            "flush": "flushd",
            "clk": "clk",
            "pc4e": "pc4e",
            "regwre": "regwre",
            "alusrcbe": "alusrcbe",
            "aluse": "aluse",
            "aluflagwre": "aluflagwre",
            "memwre": "memwre",
            "regsrce": "regsrce",
            "wd3se": "wd3se",
            "rd1e": "rd1e",
            "rd2e": "rd2e",
            "imm32e": "imm32e",
            "ra1e": "ra1e",
            "ra2e": "ra2e",
            "ra3e": "ra3e"
          },
          "view": { }
        },
        {
          "name": "ifid",
          "simulation": {
            "model": "Ifid",
            "append_to_signals": true,
            "pc4f": "pc4f",
            "pc8f": "pc8f",
            "instrf": "instrf",
            "stall": "stallf",
            "flush": "flushf",
            "clk": "clk",
            "pc4d": "pc4d",
            "pc8d": "pc8d",
            "instrd": "instrd"
          },
          "view": { }
        }
      ],
      "view": { }
    },
    {
      "name": "fetch_stage",
      "symbolic": true,
      "entities": [
        {
          "name": "addr_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["braddr","pc4d","fe"],
            "select": "pcsrcd",
            "output": "nextaddr"
          },
          "view": { }
        },
        {
          "name": "pc_reg",
          "simulation": {
            "model": "Register",
            "append_to_signals": true,
            "width": 32,
            "clock": "clk",
            "reset": "rst",
            "input": "nextaddr",
            "output": "pc",
            "enable": "pcwrd"
          },
          "view": { }
        },
        {
          "name": "add8",
          "simulation": {
            "model": "Adder",
            "width": 32,
            "input_1": "pc",
            "input_2": "const8",
            "output": "pc8f"
          },
          "view": { }
        },
        {
          "name": "add4",
          "simulation": {
            "model": "Adder",
            "width": 32,
            "input_1": "pc",
            "input_2": "const4",
            "output": "pc4f"
          },
          "view": { }
        },
        {
          "name": "progmem",
          "simulation": {
            "model": "ProgramMemory",
            "append_to_signals": true,
            "address": "pc",
            "reset": "rst",
            "read": "instrf"
          },
          "view": { }
        }
      ],
      "view": { }
    },
    {
      "name": "decode_stage",
      "symbolic": true,
      "entities": [
        {
          "name": "instr_subset",
          "simulation": {
            "model": "BusSubset",
            "input": "instrd",
            "outputs": ["instrd_23_0","instrd_19_16","instrd_3_0","instrd_15_12",
                         "instrd_11_8","instrd_31_28","instrd_27_26","instrd_25_20",
                         "instrd_4"],
            "bounds": [[0,24],[16,20],[0,4],[12,16],[8,12],[28,32],[26,28],
                        [20,26],[4,5]]
          },
          "view": { }
        },
        {
          "name": "controller",
          "simulation": {
            "model": "ControllerPipeline",
            "append_to_signals": true,
            "cond": "instrd_31_28",
            "op": "instrd_27_26",
            "funct": "instrd_25_20",
            "rd": "instrd_15_12",
            "bit4": "instrd_4",
            "c": "c",
            "v": "v",
            "n": "n",
            "z": "z",
            "stallf": "stallf",
            "pcsrcd": "pcsrcd",
            "pcwrd": "pcwrd",
            "regsad": "regsad",
            "regdstd": "regdstd",
            "regwrsd": "regwrsd",
            "regwrd": "regwrd",
            "extsd": "extsd",
            "alusrcbd": "alusrcbd",
            "alusd": "alusd",
            "aluflagwrd": "aluflagwrd",
            "memwrd": "memwrd",
            "regsrcd": "regsrcd",
            "wd3sd": "wd3sd"
          },
          "view": { }
        },
        {
          "name": "ra1_mux",
          "simulation": {
            "model": "Mux",
            "width": 4,
            "inputs": ["instrd_3_0","instrd_19_16"],
            "select": "regsad",
            "output": "ra1d"
          },
          "view": { }
        },
        {
          "name": "ra2_mux",
          "simulation": {
            "model": "Mux",
            "width": 4,
            "inputs": ["instrd_11_8","instrd_3_0","instrd_15_12"],
            "select": "regdstd",
            "output": "ra2d"
          },
          "view": { }
        },
        {
          "name": "ra3_mux",
          "simulation": {
            "model": "Mux",
            "width": 4,
            "inputs": ["instrd_19_16","instrd_15_12","const14"],
            "select": "regwrsd",
            "output": "ra3d"
          },
          "view": { }
        },
        {
          "name": "extimm",
          "simulation": {
            "model": "Extender",
            "imm": "instrd_23_0",
            "exts": "extsd",
            "imm32": "imm32d"
          },
          "view": { }
        },
        {
          "name": "add_branch",
          "simulation": {
            "model": "Adder",
            "width": 32,
            "input_1": "pc8d",
            "input_2": "imm32d",
            "output": "braddr"
          },
          "view": { }
        },
        {
          "name": "regfile",
          "simulation": {
            "model": "RegisterFileDemo",
            "append_to_signals": true,
            "clock": "clk",
            "reset": "rst",
            "write_enable": "regwrw",
            "write_data": "wd",
            "a1": "ra1d",
            "a2": "ra2d",
            "a3": "ra3w",
            "rd1": "rd1d",
            "rd2": "rd2d",
            "edge_type": "falling_edge"
          },
          "view": { }
        }
      ],
      "view": { }
    },
    {
      "name": "execute_stage",
      "symbolic": true,
      "entities": [
        {
          "name": "hazard_controller",
          "simulation": {
            "model": "HazardController",
            "append_to_signals": true,
            "ra1e": "ra1e",
            "ra2e": "ra2e",
            "ra3e": "ra3e",
            "ra3m": "ra3m",
            "ra3w": "ra3w",
            "regwrm": "regwrm",
            "regwrw": "regwrw",
            "regsrcm": "regsrcm",
            "regsrcw": "regsrcw",
            "memwrm": "memwrm",
            "pcsrcd": "pcsrcd",
            "fwda": "fwda",
            "fwdb": "fwdb",
            "fwds": "fwds",
            "stallf": "stallf",
            "flushf": "flushf",
            "flushd": "flushd"
          },
          "view": { }
        },
        {
          "name": "fwda_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["rd1e","fw","fm","rdm","rdw"],
            "select": "fwda",
            "output": "rd1"
          },
          "view": { }
        },
        {
          "name": "fwdb_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["rd2e","fw","fm","rdm","rdw"],
            "select": "fwdb",
            "output": "rd2"
          },
          "view": { }
        },
        {
          "name": "alu_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["imm32e","rd2"],
            "select": "alusrcbe",
            "output": "alub"
          },
          "view": { }
        },
        {
          "name": "alu",
          "simulation": {
            "model": "AluDemo",
            "input_a": "rd1",
            "input_b": "alub",
            "alus": "aluse",
            "output_f": "fe",
            "output_c": "aluc",
            "output_v": "aluv",
            "output_n": "alun",
            "output_z": "aluz"
          },
          "view": { }
        },
        {
          "name": "aluflag_reg",
          "simulation": {
            "model": "AluFlagRegister",
            "append_to_signals": true,
            "c_in": "aluc",
            "v_in": "aluv",
            "n_in": "alun",
            "z_in": "aluz",
            "reset": "rst",
            "clock": "clk",
            "enable": "aluflagwre",
            "c_out": "c",
            "v_out": "v",
            "n_out": "n",
            "z_out": "z"
          },
          "view": { }
        }
      ],
      "view": { }
    },
    {
      "name": "writeback_stage",
      "symbolic": true,
      "entities": [
        {
          "name": "wd3_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["rdw","fw"],
            "select": "regsrcw",
            "output": "wd3"
          },
          "view": { }
        },
        {
          "name": "rwd_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["wd3","pc4w"],
            "select": "wd3sw",
            "output": "wd"
          },
          "view": { }
        }
      ],
      "view": { }
    },
    {
      "name": "memory_stage",
      "symbolic": true,
      "entities": [
        {
          "name": "fwds_mux",
          "simulation": {
            "model": "Mux",
            "width": 32,
            "inputs": ["rd2m","wd3"],
            "select": "fwds",
            "output": "data"
          },
          "view": { }
        },
        {
          "name": "datamem",
          "simulation": {
            "model": "DataMemory",
            "append_to_signals": true,
            "address": "fm",
            "write": "data",
            "write_enable": "memwrm",
            "reset": "rst",
            "clock": "clk",
            "read": "rdm"
          },
          "view": { }
        }
      ],
      "view": { }
    }
  ]
}
